<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Maxime SOURDIN - Logs</title><link href="https://maxime.sourdin.ovh/" rel="alternate"></link><link href="https://maxime.sourdin.ovh/feeds/logs.atom.xml" rel="self"></link><id>https://maxime.sourdin.ovh/</id><updated>2022-08-15T18:00:00+02:00</updated><entry><title>Some grok patterns</title><link href="https://maxime.sourdin.ovh/some-grok-patterns" rel="alternate"></link><published>2022-08-15T18:00:00+02:00</published><updated>2022-08-15T18:00:00+02:00</updated><author><name>Maxime SOURDIN</name></author><id>tag:maxime.sourdin.ovh,2022-08-15:/some-grok-patterns</id><summary type="html">&lt;p&gt;Grok pattern for HaProxy and Syslog&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Grok pattern haproxy&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c"&gt;%{SYSLOGTIMESTAMP:timestamp}.* %{DATA:Haproxy_process}: %{IP:client_ip}.*\[%{HAPROXYDATE:accept_date}\] %{NOTSPACE:frontend_name} %{NOTSPACE:backend_name}/%{NOTSPACE:server_name} %{INT:Tq}/%{INT:Tw}/%{INT:Tc}/%{INT:Tr}/%{INT:Tt} %{DATA:http_status_code} %{NOTSPACE:bytes_read} - - ---- %{INT:actconn}/%{INT:feconn&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="c"&gt;%{INT:beconn}/%{INT:srvconn}/%{NOTSPACE:retries} %{INT:srv_queue}/%{INT:backend_queue} &amp;quot;%{WORD:Method} %{URIPATHPARAM:request} HTTP/%{NUMBER:http_version}&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Grok pattern syslog&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c"&gt;%{SYSLOGTIMESTAMP:syslog_timestamp} %{IP:server_ip} %{PROG:program}(?:\[%{POSINT:pid}\])?(?=%{GREEDYDATA:syslog_message})&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Logs"></category><category term="HaProxy"></category></entry></feed>